# CLI Drill 题目配置
# 格式：id|title|goal|hint|solution|checker_type|checker_args|subdir|tags

# === 链接操作 ===
ln_hard|ln - 硬链接|在 links/origin.txt 上创建硬链接 hardlink|不加 -s 就是硬链接；做完用 ls -li 看 inode|ln -f origin.txt hardlink|hardlink|links/origin.txt:links/hardlink|links|basic,link
ln_symlink|ln -s - 符号链接|创建符号链接 sym 指向 origin.txt|相对路径会按链接所在目录解释；用 ln -sf 方便重复练习|ln -sf origin.txt sym|symlink|links/sym:links/origin.txt|links|basic,link
unlink|unlink - 删除链接|删除 sym（只删这个名字，不影响 origin.txt）|unlink 只能对文件名；没有 -r 递归|unlink sym|not_exists|links/sym|links|basic,link

# === 文件查找 ===
find_name|find - 按名称和类型查找|在 data/docs/links 里找出所有 .txt 文件，写入 results/find_txt.txt|find data docs links -type f -name '*.txt' > results/find_txt.txt|find data docs links -type f -name '*.txt' > results/find_txt.txt|find_result|results/find_txt.txt|.|find,basic
find_size|find - 大小和逻辑组合|找出 size > 10k 的文件或比 data/ref.timestamp 更新的文件，写入 results/find_big_or_newer.txt|用 \( ... -o ... \) 分组；-size +10000c；-newer data/ref.timestamp|find . \( -size +10000c -o -newer data/ref.timestamp \) -type f > results/find_big_or_newer.txt|contains|results/find_big_or_newer.txt:data/big\.txt,data/newer\.txt|.|find,advanced
find_exec|find - exec 执行命令|对 logs 目录下所有文件执行 wc -l，把输出写入 results/log_lines.txt|find logs -type f -exec wc -l {} \; > results/log_lines.txt|find logs -type f -exec wc -l {} \; > results/log_lines.txt|contains|results/log_lines.txt:logs/app\.log,logs/sys\.LOG|.|find,advanced

# === 文本处理 ===
cut_fields|cut - 提取字段|从 data/colon.txt 提取第2列（数字），写入 results/cut_field2.txt|cut -d ':' -f2 data/colon.txt > results/cut_field2.txt|cut -d ':' -f2 data/colon.txt > results/cut_field2.txt|exact_content|results/cut_field2.txt:1001\n1002\n1003|.|text,basic
cut_chars|cut -c - 提取字符|从 data/alpha.txt 提取每行前4个字符，写入 results/cut_chars.txt|cut -c1-4 data/alpha.txt > results/cut_chars.txt|cut -c1-4 data/alpha.txt > results/cut_chars.txt|exact_content|results/cut_chars.txt:alph\nalph|.|text,basic
expand|expand - Tab转空格|把 data/tabbed.txt 的 Tab 转成 4 个空格，写入 results/expanded.txt|expand -t 4 data/tabbed.txt > results/expanded.txt|expand -t 4 data/tabbed.txt > results/expanded.txt|no_tabs|results/expanded.txt|.|text,basic

# === 搜索和过滤 ===
grep|grep -in - 搜索文本|在 logs/app.log 里查找 error（忽略大小写），带行号输出到 results/grep_error.txt|grep -in 'error' logs/app.log > results/grep_error.txt|grep -in 'error' logs/app.log > results/grep_error.txt|contains|results/grep_error.txt:^[0-9]+:,error|.|text,basic
sort|sort -n -u - 数值排序去重|对 data/numbers.txt 数值排序并去重，写入 results/sorted_unique.txt|sort -n -u data/numbers.txt > results/sorted_unique.txt|sort -n -u data/numbers.txt > results/sorted_unique.txt|exact_content|results/sorted_unique.txt:1\n2\n3\n10\n20|.|text,basic
wc|wc -l - 统计行数|统计 logs/app.log 行数，写入 results/wc_lines.txt|wc -l logs/app.log > results/wc_lines.txt|wc -l logs/app.log > results/wc_lines.txt|contains|results/wc_lines.txt:^6([[:space:]]|\$)|.|text,basic

# === 文件比较 ===
diff|diff -u - 生成补丁|比较 docs/v1.txt 和 docs/v2.txt，生成 unified diff 到 results/patch.diff|diff -u docs/v1.txt docs/v2.txt > results/patch.diff（注意 diff 有差异时退出码非0是正常的）|diff -u docs/v1.txt docs/v2.txt > results/patch.diff|contains|results/patch.diff:^---,^\+\+\+,^@@|.|diff,basic

# === 命令查找 ===
which|which - 定位命令路径|输出 grep 的路径到 results/which_grep.txt|which grep > results/which_grep.txt|which grep > results/which_grep.txt|contains|results/which_grep.txt:grep|.|help,basic
file|file - 判断文件类型|判断 data/fake.txt（其实是 PNG）类型，输出到 results/file_fake.txt|file data/fake.txt > results/file_fake.txt|file data/fake.txt > results/file_fake.txt|not_contains|results/file_fake.txt:ASCII text|.|help,basic
whatis|whatis - 简短说明|查询 grep 的简短说明，写入 results/whatis_grep.txt|whatis grep > results/whatis_grep.txt 2>&1|whatis grep > results/whatis_grep.txt 2>&1|nonempty|results/whatis_grep.txt|.|help,optional
apropos|apropos - 搜索手册|搜索 compress 相关条目（取前 10 行），写入 results/apropos_compress.txt|apropos compress | head > results/apropos_compress.txt|apropos compress | head > results/apropos_compress.txt|nonempty|results/apropos_compress.txt|.|help,optional

# === 压缩解压 ===
gzip_c|gzip -c - 压缩到stdout|把 data/big.txt 压缩到 results/big.txt.gz，且保留原文件|gzip -c data/big.txt > results/big.txt.gz|gzip -c data/big.txt > results/big.txt.gz|gzip_valid|results/big.txt.gz:data/big.txt|.|compress,basic
gzip_dc|gzip -dc - 解压到stdout|把 results/big.txt.gz 解压到 results/big.unzipped.txt|gzip -dc results/big.txt.gz > results/big.unzipped.txt|gzip -dc results/big.txt.gz > results/big.unzipped.txt|same_content|results/big.unzipped.txt:data/big.txt|.|compress,basic
bzip2_c|bzip2 -c - 压缩|把 data/big.txt 压缩到 results/big.txt.bz2（保留原文件）|bzip2 -c data/big.txt > results/big.txt.bz2|bzip2 -c data/big.txt > results/big.txt.bz2|file_exists|results/big.txt.bz2:data/big.txt|.|compress,basic
bunzip2_c|bunzip2 -c - 解压|把 results/big.txt.bz2 解压到 results/big.bz2.unzipped.txt|bunzip2 -c results/big.txt.bz2 > results/big.bz2.unzipped.txt|bunzip2 -c results/big.txt.bz2 > results/big.bz2.unzipped.txt|same_content|results/big.bz2.unzipped.txt:data/big.txt|.|compress,basic
compress_c|compress -c - LZW压缩|把 data/big.txt 压缩到 results/big.txt.Z（保留原文件）|compress -c data/big.txt > results/big.txt.Z|compress -c data/big.txt > results/big.txt.Z|file_exists|results/big.txt.Z:data/big.txt|.|compress,optional
uncompress_c|uncompress -c - 解压.Z|把 results/big.txt.Z 解压到 results/big.Z.unzipped.txt|uncompress -c results/big.txt.Z > results/big.Z.unzipped.txt|uncompress -c results/big.txt.Z > results/big.Z.unzipped.txt|same_content|results/big.Z.unzipped.txt:data/big.txt|.|compress,optional

# === 包管理（可选）===
apt_sim|apt-get -s - 模拟安装|用模拟模式查看安装 tree 的动作，写入 results/apt_sim.txt（不需要 sudo）|apt-get -s install tree > results/apt_sim.txt 2>&1|apt-get -s install tree > results/apt_sim.txt 2>&1|nonempty|results/apt_sim.txt|.|package,optional
